<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Curtis Bragdon's World</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- SEO (safe) -->
  <meta name="description" content="Curtis Bragdon — Snap-on tools, service, custom AI and builds. Galleries, contact, and more." />

  <!-- Fonts / Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" rel="stylesheet"/>

  <style>
    :root{
      --brand:#ed232a; --bg:#0e0f10; --panel:#141517;
      --text:#f5f5f5; --muted:#a7a7a7; --border:#2a2b2e;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Montserrat, Arial, sans-serif; color:var(--text);
      background:#0e0f10 url('truck_bg.jpg') center/cover no-repeat fixed;
    }
    .overlay{
      min-height:100%;
      background:linear-gradient(180deg, rgba(14,15,16,.65), rgba(14,15,16,.88));
    }
    .wrap{max-width:1000px; margin:0 auto; padding:26px 22px 40px}

    /* Header / hero */
    .brand{display:flex; align-items:center; gap:12px; font-size:1.85rem; font-weight:700; margin:0 0 6px}
    .brand i{color:var(--brand)}
    .tag{color:var(--muted); line-height:1.55; margin:6px 0 18px}

    /* Button grid */
    .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:10px; margin:14px 0 26px}
    .btn{
      display:flex; align-items:center; gap:10px; padding:12px 14px;
      background:var(--panel); color:var(--text); text-decoration:none;
      border:1px solid var(--border); border-radius:10px;
    }
    .btn:hover{border-color:#3a3b3f; background:#1a1b1e}
    .btn i{width:18px; text-align:center}

    /* Contact section (stacked links; red; easier tap targets) */
    .section-title{font-size:1.1rem; color:var(--muted); margin:22px 0 8px}
    .contact-section a{
      display:block; margin-bottom:.5rem; color:var(--brand);
      text-decoration:none; font-size:.95rem;
    }
    .contact-section a:hover{text-decoration:underline}

    /* Command Center */
    .cc{margin-top:18px; border:1px solid var(--border); border-radius:12px; background:rgba(20,21,23,.86)}
    .cc-head{display:flex; align-items:center; gap:10px; padding:12px 14px; border-bottom:1px solid var(--border)}
    .cc-head img{width:28px; height:28px; border-radius:50%; object-fit:cover; background:#222}
    .cc-body{padding:12px 14px}
    .stats{color:var(--muted); font-size:.92rem}

    /* Chat widget */
    .chat-wrap{margin-top:10px; border:1px solid var(--border); border-radius:10px; overflow:hidden}
    .chat-log{height:240px; overflow:auto; padding:10px 12px; background:#111214}
    .msg{margin:8px 0; display:flex; gap:8px}
    .msg.me{justify-content:flex-end}
    .bubble{max-width:75%; padding:10px 12px; border-radius:14px; line-height:1.45; background:#1e1f23; border:1px solid #2b2c30}
    .me .bubble{background:#1b2a1b; border-color:#294029}
    .sys .bubble{background:#1b202b; border-color:#2b3952}
    .chat-input{display:flex; gap:8px; padding:10px; background:#0f1012; border-top:1px solid var(--border)}
    .chat-input input{flex:1; padding:10px 12px; border-radius:8px; border:1px solid var(--border); background:#0c0d0e; color:var(--text)}
    .chat-input button{padding:10px 14px; border-radius:8px; border:1px solid var(--border); background:var(--brand); color:#fff; font-weight:600; cursor:pointer}
    </style>

    <!-- UI overrides for larger logo, avatar, coloured icons, and chips -->
    <style>
      /* enlarge the truck/dog logo; responsive clamp ensures it scales on mobile/desktop */
      .logo-icon {
        width: clamp(96px, 12vw, 180px);
        height: auto;
        margin-right: 10px;
        filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));
      }
      /* tagline styling to keep spacing and legibility with bigger logo */
      .tag {
        margin-top: 0.35rem;
        font-size: clamp(.95rem, 1.5vw, 1.15rem);
        opacity: .9;
      }
      /* bigger avatar in command center */
      .cc-head img {
        width: clamp(64px, 8vw, 112px);
        height: clamp(64px, 8vw, 112px);
        border-radius: 10px;
        border: 2px solid rgba(255,255,255,.15);
box-shadow:  none;
                object-fit: cover;
        object-position: center top;
      }
               the icons without changing button backgrounds */
      .btn i.fa-instagram{color:#E4405F}
      .btn i.fa-facebook{color:#1877F2}
      .btn i.fa-tiktok{color:#000000}
      .btn i.fa-youtube{color:#FF0000}
      .btn i.fa-threads{color:#7C2E7A}
      .btn i.fa-snapchat{color:#FFFC00}
      .btn i.fa-telegram{color:#26A4E3}
      .btn i.fa-reddit{color:#FF4500}
      .btn i.fa-football{color:#007049}
      .btn i.fa-money-bill{color:#6D1ED4}
      .btn i.fa-square{color:#00C244}
      .btn i.fa-vimeo{color:#3D95CE}
      .btn i.fa-spotify{color:#1DB954}
      .btn i.fa-heart{color:#E0245E}
      .btn i.fa-phone{color:#34A853}
      .btn i.fa-comment-dots{color:#34A853}
      .btn i.fa-envelope{color:#EA4335}
      .btn i.fa-truck-monster{color:#E11B22}
      .btn i.fa-car{color:#6CACE4}
      .btn i.fa-car-side{color:#6CACE4}
  /* new shop icon colour */
  .btn i.fa-shopping-cart{color:var(--brand)}
      /* subtle hover effect */
      .btn:hover { background: rgba(255,255,255,.05); }
      /* quick chips for common prompts */
      .chips { display:flex; gap:.5rem; flex-wrap:wrap; margin:.5rem 0 0; }
      .chip { font: inherit; padding:.4rem .6rem; border-radius: 999px; border:1px solid rgba(255,255,255,.15); background: rgba(255,255,255,.03); cursor:pointer; color: var(--text); }
      .chip:hover { background: rgba(255,255,255,.08); }

  /* Boston sports tracker styling */
  /* Make the sports tracker pop: dark panel with bright text and custom bullets */
  #sports-tracker {
    margin-top: 1rem;
    /* Darker translucent panel for contrast */
    background: rgba(0,0,0,0.75);
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 10px;
    padding: 1rem;
    color: #f5f5f5;
    font-size: .95rem;
    line-height: 1.4;
  }
  #sports-tracker h2 {
    color: var(--brand);
    margin: 0 0 .5rem;
    font-weight: 600;
  }
  #sports-tracker ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  #sports-tracker li {
    position: relative;
    padding-left: 1.2rem;
    margin-bottom: .4rem;
  }
  #sports-tracker li::before {
    content: "•";
    position: absolute;
    left: 0;
    top: 0;
    color: var(--brand);
  }
    </style>
</head>
<body>
  <div class="overlay">
    <div class="wrap">

      <!-- Header -->
      <div class="brand"><img src="assets/logo_icon.png" alt="Snap-on Logo" class="logo-icon"> All Access. No Excuses.</div>
      <!-- Restored longer tagline: conveys building, path and solutions; correct Alina -->
      <p class="tag">This ain’t a Linktree — it’s my territory. I don't just sell tools — I build my own path and custom solutions that last, with Alina on standby.</p>

      <!-- Buttons -->
      <div class="grid">
        <!-- External (Bitly/otis preserved for tracking) -->
        <a class="btn" href="https://otis.curtbrag.com/curtinsta" target="_blank" rel="noopener"><i class="fa-brands fa-instagram"></i>Instagram</a>
        <a class="btn" href="https://otis.curtbrag.com/curtfacebook" target="_blank" rel="noopener"><i class="fa-brands fa-facebook"></i>Facebook</a>
        <a class="btn" href="https://otis.curtbrag.com/curttiktok" target="_blank" rel="noopener"><i class="fa-brands fa-tiktok"></i>TikTok</a>
        <a class="btn" href="https://otis.curtbrag.com/curtyoutube" target="_blank" rel="noopener"><i class="fa-brands fa-youtube"></i>YouTube</a>
        <a class="btn" href="https://otis.curtbrag.com/curtthreads" target="_blank" rel="noopener"><i class="fa-brands fa-threads"></i>Threads</a>
        <a class="btn" href="https://otis.curtbrag.com/curtsnap" target="_blank" rel="noopener"><i class="fa-brands fa-snapchat"></i>Snapchat</a>
        <a class="btn" href="https://otis.curtbrag.com/curttelegram" target="_blank" rel="noopener"><i class="fa-brands fa-telegram"></i>Telegram</a>
        <a class="btn" href="https://otis.curtbrag.com/curtreddit" target="_blank" rel="noopener"><i class="fa-brands fa-reddit"></i>Reddit</a>
        <a class="btn" href="https://otis.curtbrag.com/curtdk" target="_blank" rel="noopener"><i class="fa-solid fa-football"></i>DraftKings</a>
        <a class="btn" href="https://otis.curtbrag.com/curtzelle" target="_blank" rel="noopener"><i class="fa-solid fa-money-bill"></i>Zelle</a>
        <a class="btn" href="https://otis.curtbrag.com/curtcash" target="_blank" rel="noopener"><i class="fa-brands fa-square"></i>CashApp</a>
        <a class="btn" href="https://otis.curtbrag.com/curtvenmo" target="_blank" rel="noopener"><i class="fa-brands fa-vimeo"></i>Venmo</a>
        <a class="btn" href="https://otis.curtbrag.com/curtspotify" target="_blank" rel="noopener"><i class="fa-brands fa-spotify"></i>Spotify</a>
        <a class="btn" href="https://otis.curtbrag.com/curtyougood"><i class="fa-solid fa-heart"></i>You Good?</a>

        <!-- Local utility -->
        <a class="btn" href="https://otis.curtbrag.com/callcurt"><i class="fa-solid fa-phone"></i>Call Me</a>
        <a class="btn" href="https://otis.curtbrag.com/curttext"><i class="fa-solid fa-comment-dots"></i>Text Me</a>
        <a class="btn" href="https://otis.curtbrag.com/curtemail"><i class="fa-solid fa-envelope"></i>Email Me</a>

        <!-- Galleries via otis (tracking kept) -->
        <a class="btn" href="https://otis.curtbrag.com/sngallery"><i class="fa-solid fa-truck-monster"></i>Snap‑on Gallery</a>
        <a class="btn" href="https://otis.curtbrag.com/carsgallery"><i class="fa-solid fa-car"></i>Cars Gallery</a>
        <a class="btn" href="https://otis.curtbrag.com/addyourride"><i class="fa-solid fa-car-side"></i>Add Your Ride</a>

        <!-- New shop button – points to the shop slug (tracking via otis) -->
        <a class="btn" href="https://otis.curtbrag.com/curtshop" target="_blank" rel="noopener"><i class="fa-solid fa-shopping-cart"></i>Shop</a>
      </div>

      <!-- Curtis AI Command Center (Alina) -->
      <div class="cc">
        <div class="cc-head">
          <!-- New avatar image with ID for cycling and updated alt text -->
          <img id="avatarImg" src="assets/alina_avatar1.jpg" alt="Alina AI avatar">
          <div><strong>Alina AI — Curtis AI Command Center</strong></div>
        </div>
        <div class="cc-body">
          <div class="stats">GPT sessions 7,500+ • Custom automations (Bitly, Netlify, DraftKings, more) • Tool deals closed: ∞</div>
          <!-- Quick prompt chips for common requests -->
          <div class="chips">
            <button class="chip" onclick="input.value='What tools are on promo this week?'; send()">Promos</button>
            <button class="chip" onclick="input.value='Schedule a truck stop in Swampscott'; send()">Schedule Stop</button>
            <button class="chip" onclick="input.value='DraftKings odds help'; send()">DraftKings</button>
            <button class="chip" onclick="input.value='Share my payment options'; send()">Pay Options</button>
          </div>
          <div class="chat-wrap" id="chatWrap">
            <div class="chat-log" id="chatLog" aria-live="polite">
              <div class="msg sys"><div class="bubble">Alina AI here. What do you need?</div></div>
            </div>
            <div class="chat-input">
          <input id="userInput" type="text" autocomplete="off" placeholder="Type to Alina AI…" />
              <button id="sendBtn" type="button">Send</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact -->
      <div class="section-title">Contact</div>
      <div class="contact-section">
        <a href="mailto:curtis.bragdon@snapon.com">curtis.bragdon@snapon.com</a>
        <a href="mailto:curtbrag@yahoo.com">curtbrag@yahoo.com</a>
        <a href="mailto:bragdoncurtis@gmail.com">bragdoncurtis@gmail.com</a>
        <a href="tel:+17814170692">781‑417‑0692</a>
      </div>

      <div style="margin-top:16px; color:var(--muted); font-size:.85rem;">© Curtis Bragdon</div>
    </div>
  </div>

  <script>
    // --- Alina chat glue (fixed) ---
    const log = document.getElementById('chatLog');
    const input = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    function appendMsg(container, who, text){
      const row = document.createElement('div');
      row.className = 'msg ' + (who === 'me' ? 'me' : (who === 'sys' ? 'sys' : ''));
      const b = document.createElement('div');
      b.className = 'bubble';
      b.textContent = text;
      row.appendChild(b);
      container.appendChild(row);
      container.scrollTop = container.scrollHeight;
    }

    async function askAlina(text){
      try{
        const res = await fetch('/.netlify/functions/chat', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ message: text })
        });
        if(!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json().catch(()=>null);
        return String(data?.reply || data?.message || 'OK');
      }catch(err){
        return 'Error: ' + err.message;
      }
    }

    async function send(){
      const msg = input.value.trim();
      if(!msg) return;
      // Support a special command to refresh the chat conversation. When the user
      // types "!refresh", clear the chat log and restore the initial greeting
      // without calling the backend. This lets users start a new conversation
      // without reloading the page.
      if (msg.toLowerCase() === '!refresh') {
        // Clear existing messages
        log.innerHTML = '';
        // Show the initial AI greeting again
      appendMsg(log, 'sys', 'Alina AI here. What do you need?');
        input.value = '';
        return;
      }
      appendMsg(log, 'me', msg);
      input.value = '';
      const reply = await askAlina(msg);
      appendMsg(log, 'sys', reply);
    }

 
    sendBtn?.addEventListener('click', send);
    input?.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') send(); });

  </script>
  <!-- Boston Sports Tracker -->
<section id="sports-tracker">
  <h2>Boston Sports Tracker</h2>
  <ul>
    <li><strong>Red Sox:</strong> Last game – Aug 12, 2025 vs Astros (W 14–1); Record: 66–55, 2nd in AL East</li>
    <li><strong>Patriots:</strong> Last game – Aug 8, 2025 vs Commanders (Preseason W 48–18); Record: 1–0 preseason, 2nd in AFC East</li>
    <li><strong>Celtics:</strong> Last game – May 16, 2025 vs Knicks (L 81–119); Season Record: 61–21, 1st in Atlantic, 2nd in East</li>
    <li><strong>Bruins:</strong> Last game – Apr 15, 2025 vs Devils (OT L 5–4); Season Record: 33–39–10, 8th in Atlantic, 15th in East</li>
    <li><strong>New England Revolution:</strong> Last game – Aug 9, 2025 vs D.C. United (W 2–0); Record: 7–7–11, 28 points, 21st in MLS</li>
  </ul>
</section>

  <!-- Avatar cycling script: cycle through uploaded avatars on click -->
  <script>
    const avatarImgs = [
      'assets/alina_avatar1.jpg','assets/alina_avatar2.jpg','assets/alina_avatar3.jpg'
    ];
    let avatarIndex = 0;
    const avatarEl = document.getElementById('avatarImg');
    if (avatarEl) {
      avatarEl.addEventListener('click', () => {
        avatarIndex = (avatarIndex + 1) % avatarImgs.length;
        avatarEl.src = avatarImgs[avatarIndex];
      });
    }
  </script>

</body>
</html>
